---
title: "Hosted UI"
description: "Initialize the IdCanopy hosted UI with the uiHandle."
icon: 'code'
tag: "UPCOMING"
---

# Hosted UI
Use the `uiHandle` from the **Handshake** to run the full verification flow via **iframe** or **redirect**.

## Frontend initialization

### Iframe
- Create an `<iframe>` and set `src` to the `uiHandle`.
- Restrict embedding to your domains (via CSP `frame-ancestors` or `X-Frame-Options`).

### Redirect
- `window.location.href = uiHandle`
- Optionally serve a short-lived `302` from your backend to reduce URL exposure.

### Events
If you subscribe to frontend events using your own wrapper, you may emit:
- `journey.started`
- `journey.step.completed`
- `journey.completed`
- `journey.fraud.alert`
- `ui.closed`
- `ui.timeout`

(These are optional and **not provided by a packaged SDK**.)

### Example
```ts
// After the Handshake â†’ you have { uiHandle }

// Option A: iframe
const iframe = document.getElementById("idcanopy-frame");
iframe.src = uiHandle;

// Option B: redirect
// window.location.href = uiHandle;

// Optional: track user activity
let lastActiveTime = Date.now();
const bump = () => (lastActiveTime = Date.now());
document.addEventListener("mousemove", bump);
document.addEventListener("keypress", bump);

window.onbeforeunload = (e) => {
  const msg = "Are you sure you want to leave the verification process?";
  e.returnValue = msg;
  return msg;
};

// Optional: inactivity warning
setInterval(() => {
  if (Date.now() - lastActiveTime > 5 * 60 * 1000) {
    console.warn("User inactive for more than 5 minutes");
  }
}, 60 * 1000);
